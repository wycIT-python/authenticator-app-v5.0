# Authenticator V5.0 Pro

一款功能强大的TOTP（基于时间的一次性密码）验证器应用程序，提供安全、便捷的双因素身份验证解决方案。

![版本](https://img.shields.io/badge/版本-V5.0_Pro-blue)
![Python](https://img.shields.io/badge/Python-3.6%2B-green)
![许可证](https://img.shields.io/badge/许可证-MIT-lightgrey)

## 🌟 主要特性

### 🔐 安全认证
- **多用户支持**：支持多个用户账户，数据完全隔离
- **密码保护**：SHA-256加密存储用户密码
- **自动锁定**：可配置的自动锁定时间，增强安全性
- **会话管理**：智能会话超时和快速重新登录

### 🎨 用户界面
- **现代化界面**：直观易用的图形用户界面
- **主题切换**：支持浅色和深色主题
- **响应式设计**：适配不同屏幕尺寸
- **自定义字体**：可调节字体大小

### ⚡ 核心功能
- **TOTP生成**：基于RFC 6238标准生成6位验证码
- **实时更新**：30秒自动刷新验证码
- **可视化进度**：直观的倒计时进度条
- **一键复制**：点击验证码快速复制到剪贴板

### 🔧 高级功能
- **二维码扫描**：从二维码图片自动导入账户
- **批量管理**：支持账户数据的导入和导出
- **自动复制**：可选自动复制验证码功能
- **启动选项**：支持启动时最小化

## 📦 安装要求

### 必需库
```bash
pip install pyotp
pip install qrcode
pip install Pillow
pip install pyperclip
```

### 可选库（用于二维码扫描）
```bash
pip install opencv-python
```

### 系统要求
- Python 3.6 或更高版本
- 支持的操作系统：Windows, macOS, Linux

## 🚀 快速开始

### 首次使用
1. **启动应用**
   ```bash
   python authenticator.py
   ```

2. **创建用户**
   - 在注册界面输入用户名和密码
   - 默认提供管理员账户：`admin` / `admin`

3. **添加账户**
   - 点击"添加账户"手动输入密钥
   - 或使用"扫描二维码"从图片导入

### 基本操作

#### 添加TOTP账户
1. **手动添加**：
   - 点击"添加账户"
   - 输入账户名称（如：Google）
   - 输入Base32格式的密钥

2. **二维码扫描**：
   - 点击"扫描二维码"
   - 选择包含OTP二维码的图片文件
   - 自动识别并导入账户信息

#### 使用验证码
- 从账户列表选择账户
- 查看实时生成的6位验证码
- 点击验证码自动复制到剪贴板
- 每30秒自动更新

## 🛠️ 详细功能说明

### 用户管理
- **多用户支持**：每个用户有独立的账户数据和设置
- **密码安全**：使用SHA-256哈希加密存储密码
- **快速登录**：记住最后登录用户，快速重新登录

### 账户管理
- **无限账户**：支持添加无限数量的TOTP账户
- **导入导出**：JSON格式的账户数据备份和恢复
- **批量操作**：支持账户的批量导入和管理

### 个性化设置
- **主题定制**：浅色/深色主题切换
- **字体大小**：5种可调节字体大小
- **自动锁定**：1-30分钟不活动自动锁定
- **启动选项**：配置启动行为

### 安全特性
- **本地存储**：所有数据本地加密存储
- **自动锁定**：防止未授权访问
- **会话保护**：智能会话超时管理

## 📁 文件结构

```
authenticator/
├── authenticator.py      # 主程序文件
├── accounts.json         # 账户数据文件（自动生成）
├── users.json           # 用户数据文件（自动生成）
└── README.md           # 说明文档
```

## ⚙️ 配置说明

### 用户设置
在设置界面可以配置：
- **自动锁定时间**：1, 5, 10, 15, 30分钟
- **主题偏好**：浅色或深色
- **字体大小**：10, 12, 14, 16, 18pt
- **自动复制**：启用/禁用自动复制验证码
- **启动最小化**：启动时自动最小化

### 数据备份
- **导出数据**：设置 → 账户管理 → 导出账户数据
- **导入数据**：设置 → 账户管理 → 导入账户数据
- **文件格式**：标准JSON格式，便于迁移和备份

## 🔄 技术实现

### TOTP算法
基于RFC 6238标准实现：
- 使用HMAC-SHA1哈希算法
- 30秒时间窗口
- 6位数字验证码

### 数据加密
- 用户密码：SHA-256哈希
- 本地存储：JSON格式明文存储（建议在安全环境中使用）

### 图形界面
- 基于Tkinter的现代化界面
- 自定义进度条和动画效果
- 响应式布局设计

## 🐛 故障排除

### 常见问题

**Q: 验证码不匹配？**
A: 检查系统时间是否准确，TOTP对时间同步要求严格

**Q: 二维码扫描失败？**
A: 确保已安装OpenCV，或尝试手动输入密钥

**Q: 程序无法启动？**
A: 检查Python版本和依赖库是否安装完整

**Q: 忘记密码？**
A: 删除users.json文件重新创建用户（会丢失所有数据）

### 日志查看
程序运行日志会在控制台输出，遇到问题时请查看相关错误信息。

## 📝 使用技巧

### 最佳实践
1. **定期备份**：导出账户数据并安全存储
2. **时间同步**：确保设备时间准确
3. **安全环境**：在受信任的设备上使用
4. **密码强度**：使用强密码保护用户账户

### 效率提升
- 使用自动复制功能提高输入效率
- 配置合适的自动锁定时间平衡安全和便利
- 利用快速登录功能快速访问

## 🔒 安全提示

### 重要提醒
- 🔸 本程序将敏感数据存储在本地，请确保设备安全
- 🔸 定期备份账户数据，防止意外丢失
- 🔸 不要在公共计算机上使用此程序
- 🔸 建议设置较短的自动锁定时间

### 数据保护
- 账户密钥以明文形式存储在本地
- 用户密码经过哈希处理
- 建议配合全盘加密使用

## 📄 许可证

MIT License - 详见LICENSE文件

## 👨‍💻 开发信息

**开发者**：王昱程  
**版本**：V5.0 Pro  
**联系方式**：内置应用内信息

## 🆘 获取帮助

如遇问题：
1. 查看本README文档
2. 检查控制台错误信息
3. 确保所有依赖库正确安装
4. 验证系统时间准确性

---

**注意**：此应用程序用于个人使用目的。在生产环境中使用前，请进行充分的安全评估。

***此版本更新说明：***

1.优化代码逻辑

2.修复已知问题

3.添加恢复代码管理功能
